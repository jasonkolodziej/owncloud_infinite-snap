#!/bin/bash -e

#? Reference: https://snapcraft.io/docs/interface-hooks
#? Attributes can only be created in prepare- hooks, and only as long as their names do not clash with attributes already
#? defined statically in snap.yaml for the given plug/slot. This means overwriting or overloading statically defined attributes
#? is not allowed.

# When executed by plug hooks:

# snapctl get :<plugname> <attribute name> to read attributes of local plug
# snapctl get --slot :<plugname> <attribute name> to read attributes of the slot

snapctl get :configuration \
    snapname="${SNAP_NAME}" #? to create an attribute for the plug side <plugname >plugattribute=value

PRODUCER_ATTRIBUTES=$(snapctl get --slot :configuration snapname) #? to read an attribute from the slot side
echo "${PRODUCER_ATTRIBUTES}"
