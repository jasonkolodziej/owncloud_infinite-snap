## Static configuration
# # define entrypoints
# - "--entryPoints.http.address=:80"
# - "--entryPoints.http.http.redirections.entryPoint.to=https"
# - "--entryPoints.http.http.redirections.entryPoint.scheme=https"
# - "--entryPoints.https.address=:443"
entryPoints:
  http:
    address: ":80"
    http:
      redirections:
        entryPoint:
          to: https
          scheme: https

  https:
    address: ":443"
# entryPoints:
#   web:
#     address: ":80"

#   websecure:
#     address: ":443"
# - "--log.level=${TRAEFIK_LOG_LEVEL:-ERROR}"
log:
  level: "${TRAEFIK_LOG_LEVEL:-ERROR}"

#? enable dashboard
# - "--api.dashboard=true"
api:
  dashboard: true

# # letsencrypt configuration
# - "--certificatesResolvers.http.acme.email=${TRAEFIK_ACME_MAIL:-example@example.org}"
# - "--certificatesResolvers.http.acme.storage=/certs/acme.json"
# - "--certificatesResolvers.http.acme.httpChallenge.entryPoint=http"
certificatesResolvers:
  myresolver:
    acme:
      email: your-email@example.com
      storage: $SNAP/traefik-providers/certs/acme.json
      httpChallenge:
        # used during the challenge
        entryPoint: http
        # entryPoint: web

providers:
  # Enable the file provider to define routers / middlewares / services in file
  providers:
  file:
    directory: "${SNAP}/traefik-providers/providers"
    watch: true
  # file:
  #   directory: /etc/traefik/providers/project-name.yaml
